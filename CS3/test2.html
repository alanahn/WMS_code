<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>달팽이의 나무 올라가기</title>
<style>
    canvas {
        border: 1px solid black;
    }
</style>
</head>
<body>
<canvas id="snailCanvas" width="500" height="300"></canvas>
<button id="startButton">시작</button>
<div id="output"></div>

<script>
const canvas = document.getElementById('snailCanvas');
const ctx = canvas.getContext('2d');

// 달팽이 이동에 필요한 변수 설정
const move = 2;   // 이동
const V = 500; // 거리
const speed = 500;

let width= 0; // 현재 높이
let moving = false;


// 시작 버튼 클릭 시 애니메이션 시작
document.getElementById('startButton').addEventListener('click', function() {
    width = 0;
    moving = true;
    moveSnail(); // 달팽이 이동 시작
});

// 이동 함수
function moveSnail() {
    for(let i = 0; i < V; i++) {
        ctx.clearRect(0, 0, canvas.width, canvas.height);    
        ctx.fillRect(i+20, 20, 20, 20);
        setTimeout(moveSnail, speed); // 일정 시간 후에 다음 이동 실행
        output.innerHTML = "이동 중 : " + "*".repeat(i) + "<br>";
    }
    // if(moving) {
    //     width += move
    //     output.innerHTML = "이동 중 : " + "*".repeat(width);
    // } 
    
    

    // // 나무 높이에 도달하지 않았으면 다음 이동을 계속
    // if (width !== V) {
    //     setTimeout(moveSnail, speed); // 일정 시간 후에 다음 이동 실행
    // } else {
    //     alert("도착");
    //     moving = false;
    // }
}
</script>
</body>
</html>
